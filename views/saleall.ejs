<%- include('nav bar/navbar.ejs') %>
    <title>ITEM Database</title>
    <link rel='stylesheet' href='/stylesheets/productallstyle.css' />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
    
    <main class="table">
        <section class="table__header">
            <h1>Sale Database</h1>
            <div class="input-group">
                <input type="search" placeholder="Search Data...">
                <img src="images/search.png" alt="">
            </div>
            
        </section>
        <section class="table__body">
            <table>
                <thead>
                    <tr>
                        <th data-sort-type="number"> # <span class="icon-arrow">&UpArrow;</span></th>
                         <th data-sort-type="number"> DATE <span class="icon-arrow">&UpArrow;</span></th>
                        <th data-sort-type="string"> Full Name <span class="icon-arrow">&UpArrow;</span></th>
                      
                        <th data-sort-type="string">Order Info <span class="icon-arrow">&UpArrow;</span></th>
                      
                        <th data-sort-type="string"> Action <span class="icon-arrow">&UpArrow;</span></th>
                    </tr>
                </thead>
        <tbody>
  <% let a = 1; %>
<% Sale.slice().reverse().forEach(function(client) { %>

    <tr>
      <td><%= a++ %></td>

      <td>
        <%= new Date(client.date).toLocaleString('en-GB', {
          timeZone: 'Asia/Kolkata',
          day: '2-digit',
          month: 'short',
          year: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        }) %>
      </td>

      <td>
        <% if (client.name) { %>
          <strong>Name:</strong> <%= client.name %><br>
        <% } %>
        <% if (client.phone) { %>
          <strong>Phone:</strong> <%= client.phone %><br>
        <% } %>
        <% if (client.address) { %>
          <strong>Address:</strong> <%= client.address %>
        <% } %>
      </td>

      <td style="width: 490px;">
        <div class="item-container">
          <div class="item-header">
            <div>Item Name</div>
            <div>Quantity</div>
            <div>Rent</div>
          </div>
          <div class="item-body">
            <% if (client.items && client.items.length > 0) { %>
              <% client.items.forEach(item => { %>
                <div class="item-row">
                  <div><%= item.itemName %></div>
                  <div><%= item.quantity %></div>
                  <div><%= item.price %></div>
                </div>
                <% }) %>
                <% } else { %>
                  <div class="item-row">
                    <div colspan="3"><em>No items available</em></div>
                  </div>
                  <% } %>
                  <% client.moneyreceipt.forEach(money => { %>
                    
                    <%  }); %>
                  <div class ="item-row">
                    <div></div>
                    <div>Total amount</div>
                    <div>XXXX.XX</div>
                  </div>
          </div>
        </div>
      </td>

     
  <!-- Edit button -->
<!-- Action Buttons Container -->

<td>
  <div class="action-buttons">
    <!-- Edit Button -->
    <a href="/editclient/<%= client._id %>" class="icon-btn edit" title="Edit Client">
      <i class="fa-solid fa-pen"></i>
    </a>

    <!-- Delete Button -->
    <a href="/deleteclient/<%= client._id %>" class="icon-btn delete" title="Delete Client"
       onclick="return confirm('Are you sure you want to delete this client?');">
      <i class="fa-solid fa-trash"></i>
    </a>
  </div>
</td>



<style>
  .action-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  align-items: center;
}

.icon-btn {
  width: 38px;
  height: 38px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 12px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.05);
  transition: all 0.25s ease-in-out;
  color: #555;
  text-decoration: none;
}

.icon-btn i {
  font-size: 16px;
}

.icon-btn.edit:hover {
  background: rgba(0, 119, 255, 0.2);
  color: #007bff;
  box-shadow: 0 0 8px rgba(0, 119, 255, 0.4);
}

.icon-btn.delete:hover {
  background: rgba(255, 69, 58, 0.2);
  color: #ff3b30;
  box-shadow: 0 0 8px rgba(255, 69, 58, 0.4);
}
.icon-btn:hover i {
  transform: scale(1.2);
  transition: transform 0.2s ease;
}

</style>



    </tr>
  <% }) %>
</tbody>


            </table>
        </section>
    </main>
    <script src="./javascripts/productall.js"></script>
</body>
<style>
.red-icon {
  color: red;
}

   i {
  color: rgb(0, 119, 255); /* Change the color as needed */
  font-size: 22px; /* Adjust the font size as needed */
  /* Add more styles as per your requirements */
}
i.fa-trash-can {
  color: rgb(213, 3, 3); /* Change the color as needed */
  font-size: 22px; /* Adjust the font size as needed */
  /* Add more styles as per your requirements */
}

   .item-container {
  display: flex;
  flex-direction: column;
  background: #efefef;
}

.item-header , .item-row {
  display: flex;
}

.item-header div, .item-row div {
  flex: 1;
  padding: 8px;
  border: 1px solid #908f8f;
}

.item-header ,.item-row div {
  text-align: center;
}

.item-row div[colspan="3"] {
  flex: 3;

}



</style>
</html>




